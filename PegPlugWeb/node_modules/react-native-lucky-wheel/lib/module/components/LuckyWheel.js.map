{"version":3,"names":["React","useRef","useState","useMemo","useEffect","forwardRef","useImperativeHandle","useCallback","View","Animated","PanResponder","Easing","Dimensions","StyleSheet","d3Shape","randomColor","Svg","G","Text","Path","Circle","Knob","Utils","GestureTypes","TextAngles","EasingTypes","AnimatedSvg","createAnimatedComponent","width","get","ONE_TURN","LuckyWheel","props","ref","rotate","Value","current","spinVelocity","containerRef","isSpinning","setIsSpinning","spinCount","setSpinCount","winnerLastOffset","setWinnerLastOffset","px","setPx","py","setPy","rotateInterpolated","interpolate","inputRange","outputRange","outerRadius","size","DURATION_IN_MS","duration","SLICE_COUNT","slices","length","SLICE_ANGLE","SLICE_ANGLE_CENTER","SLICE_PAYLOAD","data","Array","from","fill","arcs","pie","instance","arc","padAngle","innerRadius","colors","backgroundColorOptions","count","map","index","path","color","text","textStyle","centroid","knobAnim","modulo","divide","subtract","knobInterpolated","startSpinning","isGestureSpinning","_value","isSpinningValid","Math","abs","velocity","enablePhysics","round","WINNER_INDEX","winnerIndex","floor","random","WINNER","WINNER_ANGLE","WINNER_ANGLE_OFFSET","randomNumber","EXTRA_SPIN_DEGREE","TARGET_ANGLE","isEndlessSpinning","waitWinner","loop","timing","toValue","useNativeDriver","easing","linear","start","out","cubic","inOut","setValue","onSpinningEnd","onSpinningStart","resetAnimation","onKnobTick","addListener","value","removeAllListeners","stop","stopAnimation","reset","_panResponder","create","onMoveShouldSetPanResponder","onMoveShouldSetPanResponderCapture","onPanResponderMove","_","gestureState","enableGesture","mappedX","moveX","mappedY","moveY","x","y","top","bottom","left","right","isMoveRight","vx","isMoveLeft","isMoveUp","vy","isMoveBottom","isSpinRight","isSpinLeft","isSingleTouch","numberActiveTouches","isClockwiseEnabled","gestureType","CLOCKWISE","MULTIDIRECTIONAL","isAntiClockwiseEnabled","ANTI_CLOCKWISE","slowDivider","onPanResponderRelease","isVelocityFastEnough","minimumSpinVelocity","_renderKnob","styles","knob","transform","customKnob","knobSize","knobColor","_renderText","params","source","customText","textAngle","VERTICAL","i","payload","_renderOuterDots","enableOuterDots","dotColor","_renderSlice","_renderCircle","enableInnerShadow","wheel","circle","height","borderRadius","_renderWheel","measure","_fx","_fy","_wheelWidth","_wheelHeight","pxSize","pySize","panHandlers","backgroundColor","container","offset","defaultProps","luminosity","hue","OUT","justifyContent","alignItems","zIndex","position","borderColor","borderWidth","opacity","fontSize","fontWeight"],"sources":["LuckyWheel.tsx"],"sourcesContent":["import React, {\n  useRef,\n  useState,\n  useMemo,\n  useEffect,\n  forwardRef,\n  useImperativeHandle,\n  useCallback,\n} from 'react';\nimport {\n  View,\n  Animated,\n  PanResponder,\n  Easing,\n  Dimensions,\n  StyleSheet,\n} from 'react-native';\nimport * as d3Shape from 'd3-shape';\nimport randomColor from 'randomcolor';\n\nimport Svg, { G, Text, Path, Circle } from 'react-native-svg';\n\nimport Knob from './Knob';\n\nimport Utils from '../utils';\n\nimport {\n  ILuckyWheel,\n  LuckyWheelHandle,\n  GestureTypes,\n  TextAngles,\n  EasingTypes,\n  ILuckyWheelOptionalProps,\n  Color,\n  IWheelText,\n} from '../index';\n\nconst AnimatedSvg = Animated.createAnimatedComponent(Svg);\n\nconst { width } = Dimensions.get('screen');\n\nconst ONE_TURN = 360;\n\nconst LuckyWheel = forwardRef<LuckyWheelHandle, ILuckyWheel>((props, ref) => {\n  const rotate = useRef<any>(new Animated.Value(0)).current;\n  const spinVelocity = useRef<any>(new Animated.Value(0)).current;\n  const containerRef = useRef<any>(null);\n\n  const [isSpinning, setIsSpinning] = useState(false);\n  const [spinCount, setSpinCount] = useState(1);\n  const [winnerLastOffset, setWinnerLastOffset] = useState(0);\n\n  const [px, setPx] = useState(0);\n  const [py, setPy] = useState(0);\n\n  const rotateInterpolated = rotate.interpolate({\n    inputRange: [-ONE_TURN, 0, ONE_TURN],\n    outputRange: [`-${ONE_TURN}deg`, '0deg', `${ONE_TURN}deg`],\n  });\n\n  const outerRadius = useMemo(\n    () => props.size / 2 - props.outerRadius,\n    [props.size, props.outerRadius]\n  );\n\n  const DURATION_IN_MS = useMemo(() => props.duration * 1000, [props.duration]);\n\n  const SLICE_COUNT = useMemo(() => props.slices.length, [props.slices]);\n\n  const SLICE_ANGLE = useMemo(() => ONE_TURN / SLICE_COUNT, [SLICE_COUNT]);\n  const SLICE_ANGLE_CENTER = useMemo(() => SLICE_ANGLE / 2, [SLICE_ANGLE]);\n\n  const SLICE_PAYLOAD = useMemo(() => {\n    const data: any = Array.from({ length: SLICE_COUNT }).fill(1);\n    const arcs = d3Shape.pie()(data);\n    const instance = d3Shape\n      .arc()\n      .padAngle(props.padAngle)\n      .outerRadius(outerRadius)\n      .innerRadius(props.innerRadius);\n\n    const colors = randomColor({\n      ...props.backgroundColorOptions,\n      count: SLICE_COUNT,\n    });\n\n    return arcs.map((arc: any, index: number) => {\n      return {\n        path: instance(arc),\n        color: props.slices[index].color ?? colors[index % colors.length],\n        text: props.slices[index].text,\n        textStyle: props.slices[index].textStyle,\n        centroid: instance.centroid(arc),\n      };\n    });\n  }, [\n    props.padAngle,\n    props.innerRadius,\n    outerRadius,\n    props.backgroundColorOptions,\n    props.slices,\n    SLICE_COUNT,\n  ]);\n\n  const knobAnim = Animated.modulo(\n    Animated.divide(\n      Animated.modulo(Animated.subtract(rotate, SLICE_ANGLE_CENTER), ONE_TURN),\n      new Animated.Value(SLICE_ANGLE)\n    ),\n    1\n  );\n\n  const knobInterpolated = knobAnim.interpolate({\n    inputRange: [-1, -0.5, -0.0001, 0.0001, 0.5, 1],\n    outputRange: ['0deg', '0deg', '35deg', '-35deg', '0deg', '0deg'],\n  });\n\n  const startSpinning = useCallback(() => {\n    if (!isSpinning) setIsSpinning(true);\n\n    const isGestureSpinning = spinVelocity._value !== 0;\n    const isSpinningValid = Math.abs(spinVelocity._value) >= 1;\n    const velocity =\n      isGestureSpinning && props.enablePhysics && isSpinningValid\n        ? Math.round(Math.abs(spinVelocity._value))\n        : 1;\n\n    const WINNER_INDEX =\n      props.winnerIndex ?? Math.floor(Math.random() * SLICE_COUNT);\n    const WINNER = props.slices[WINNER_INDEX];\n\n    const WINNER_ANGLE = WINNER_INDEX * (ONE_TURN / SLICE_COUNT);\n    const WINNER_ANGLE_OFFSET = Utils.randomNumber(\n      -SLICE_ANGLE_CENTER + SLICE_ANGLE / 3,\n      SLICE_ANGLE_CENTER - SLICE_ANGLE / 3\n    );\n\n    const EXTRA_SPIN_DEGREE = ONE_TURN * props.duration * spinCount * velocity;\n\n    const TARGET_ANGLE =\n      ONE_TURN -\n      WINNER_ANGLE +\n      EXTRA_SPIN_DEGREE -\n      winnerLastOffset +\n      WINNER_ANGLE_OFFSET;\n\n    const isEndlessSpinning = props.waitWinner && !props.winnerIndex;\n\n    if (isEndlessSpinning) {\n      Animated.loop(\n        Animated.timing(rotate, {\n          toValue: EXTRA_SPIN_DEGREE * 4,\n          duration: DURATION_IN_MS,\n          useNativeDriver: true,\n          easing: Easing.linear,\n        })\n      ).start();\n    } else {\n      Animated.timing(rotate, {\n        toValue: TARGET_ANGLE,\n        duration: DURATION_IN_MS,\n        easing:\n          props.easing === 'out'\n            ? Easing.out(Easing.cubic)\n            : Easing.inOut(Easing.cubic),\n        useNativeDriver: true,\n      }).start(() => {\n        setIsSpinning(false);\n        spinVelocity.setValue(0);\n\n        if (props.onSpinningEnd) props.onSpinningEnd(WINNER);\n      });\n    }\n\n    if (props.onSpinningStart) props.onSpinningStart();\n\n    setWinnerLastOffset(WINNER_ANGLE_OFFSET);\n    setSpinCount(spinCount + 1);\n  }, [\n    DURATION_IN_MS,\n    SLICE_ANGLE,\n    SLICE_ANGLE_CENTER,\n    SLICE_COUNT,\n    isSpinning,\n    props,\n    rotate,\n    spinCount,\n    spinVelocity,\n    winnerLastOffset,\n  ]);\n\n  useEffect(() => {\n    if (isSpinning && props.waitWinner && props.winnerIndex) {\n      rotate.resetAnimation(() => {\n        startSpinning();\n      });\n    }\n  }, [isSpinning, props.waitWinner, props.winnerIndex, rotate, startSpinning]);\n\n  useEffect(() => {\n    if (props.onKnobTick) {\n      knobAnim.addListener(({ value }) => {\n        if (value > 0.7) {\n          if (props.onKnobTick) props.onKnobTick();\n        }\n      });\n    } else {\n      knobAnim.removeAllListeners();\n    }\n  }, [knobAnim, props]);\n\n  useImperativeHandle(ref, () => ({\n    start: () => {\n      startSpinning();\n    },\n    stop: () => {\n      rotate.stopAnimation();\n    },\n    reset: () => {\n      rotate.resetAnimation();\n    },\n  }));\n\n  const _panResponder = PanResponder.create({\n    onMoveShouldSetPanResponder: () => true,\n    onMoveShouldSetPanResponderCapture: () => true,\n    onPanResponderMove: (_, gestureState) => {\n      if (!props.enableGesture || isSpinning) {\n        return;\n      }\n\n      const mappedX = gestureState.moveX - px;\n      const mappedY = gestureState.moveY - py;\n\n      const x = mappedX < 0 ? 0 : mappedX > 300 ? props.size : mappedX;\n      const y = mappedY < 0 ? 0 : mappedY > 300 ? props.size : mappedY;\n\n      const top = y < props.size / 2;\n      const bottom = y > props.size / 2;\n      const left = x < props.size / 2;\n      const right = x > props.size / 2;\n\n      // console.log({x, y, top, bottom, left, right});\n\n      const isMoveRight = gestureState.vx > 0;\n      const isMoveLeft = gestureState.vx < 0;\n      const isMoveUp = gestureState.vy < 0;\n      const isMoveBottom = gestureState.vy > 0;\n\n      // console.log({isMoveRight, isMoveLeft, isMoveUp, isMoveBottom});\n\n      const isSpinRight =\n        (top && isMoveRight) ||\n        (bottom && isMoveLeft) ||\n        (top && right && isMoveBottom) ||\n        (bottom && left && isMoveUp);\n      const isSpinLeft =\n        ((top && isMoveLeft) ||\n          (bottom && isMoveRight) ||\n          (top && left && isMoveBottom) ||\n          (bottom && right && isMoveUp)) &&\n        !isSpinRight;\n\n      // console.log({isSpinRight, isSpinLeft});\n\n      const isSingleTouch = gestureState.numberActiveTouches === 1;\n      // const isRightMove = gestureState.vx < 0;\n\n      const isClockwiseEnabled =\n        props.gestureType === GestureTypes.CLOCKWISE ||\n        props.gestureType === GestureTypes.MULTIDIRECTIONAL;\n      const isAntiClockwiseEnabled =\n        props.gestureType === GestureTypes.ANTI_CLOCKWISE ||\n        props.gestureType === GestureTypes.MULTIDIRECTIONAL;\n\n      // set spin velocity\n      if (\n        (isSpinRight && isClockwiseEnabled) ||\n        (isSpinLeft && isAntiClockwiseEnabled)\n      ) {\n        if (rotate._value === 0) {\n          spinVelocity.setValue(gestureState.vx);\n        } else {\n          spinVelocity.setValue((gestureState.vx + spinVelocity._value) / 2);\n        }\n      }\n\n      const slowDivider = 15;\n\n      if (isClockwiseEnabled && isSingleTouch && isSpinRight) {\n        rotate.setValue((rotate._value + x / slowDivider) % 360);\n      }\n\n      if (isAntiClockwiseEnabled && isSingleTouch && isSpinLeft) {\n        rotate.setValue((rotate._value - x / slowDivider) % 360);\n      }\n    },\n    onPanResponderRelease: () => {\n      if (!props.enableGesture || isSpinning) {\n        return;\n      }\n\n      const isVelocityFastEnough =\n        Math.abs(spinVelocity._value) > props.minimumSpinVelocity;\n\n      if (isVelocityFastEnough) {\n        startSpinning();\n      }\n    },\n  });\n\n  const _renderKnob = () => {\n    return (\n      <Animated.View\n        style={[\n          styles.knob,\n          {\n            transform: [\n              {\n                rotate: knobInterpolated,\n              },\n            ],\n          },\n        ]}\n      >\n        {props.customKnob ? (\n          props.customKnob({ size: props.knobSize, color: props.knobColor })\n        ) : (\n          <Knob size={props.knobSize} color={props.knobColor} />\n        )}\n      </Animated.View>\n    );\n  };\n\n  const _renderText = (params: IWheelText) => {\n    if (props.source) return null;\n\n    if (props.customText) {\n      return props.customText(params);\n    }\n\n    if (props.textAngle === TextAngles.VERTICAL) {\n      return (\n        <G\n          rotation={\n            (params.i * ONE_TURN) / SLICE_COUNT + SLICE_ANGLE_CENTER + 90\n          }\n          origin={`${params.x}, ${params.y}`}\n        >\n          <Text\n            x={params.x - props.size / 7}\n            y={params.y}\n            fill={\n              params.payload.textStyle?.color ??\n              props.textStyle?.color ??\n              styles.text.color\n            }\n            {...props.textStyle}\n            {...params.payload.textStyle}\n          >\n            {params.payload.text}\n          </Text>\n        </G>\n      );\n    }\n\n    return (\n      <G\n        rotation={(params.i * ONE_TURN) / SLICE_COUNT + SLICE_ANGLE_CENTER}\n        origin={`${params.x}, ${params.y}`}\n      >\n        <Text\n          x={params.x - params.payload.text.length * 5}\n          y={params.y - props.size / 8}\n          fill={\n            params.payload.textStyle?.color ??\n            props.textStyle?.color ??\n            styles.text.color\n          }\n          {...props.textStyle}\n          {...params.payload.textStyle}\n        >\n          {params.payload.text}\n        </Text>\n      </G>\n    );\n  };\n\n  const _renderOuterDots = (x: number, y: number, i: number) => {\n    if (!props.enableOuterDots) {\n      return null;\n    }\n\n    return (\n      <Circle\n        origin={`${x}, ${y}`}\n        rotation={(i * ONE_TURN) / SLICE_COUNT + SLICE_ANGLE_CENTER}\n        cx={x + outerRadius + 2.5}\n        cy={\n          y +\n          SLICE_ANGLE -\n          SLICE_COUNT * 2 +\n          props.innerRadius / 2 +\n          props.innerRadius / 100\n        }\n        r=\"4\"\n        fill={props.dotColor}\n      />\n    );\n  };\n\n  const _renderSlice = (path: any, color: Color) => {\n    return <Path d={path} strokeWidth={2} fill={color} />;\n  };\n\n  const _renderCircle = () => {\n    if (!props.enableInnerShadow) return false;\n\n    return (\n      <Animated.View\n        style={{\n          ...styles.wheel,\n          ...styles.circle,\n          width: props.size - (props.size - outerRadius * 2),\n          height: props.size - (props.size - outerRadius * 2),\n          borderRadius: props.size / 2,\n        }}\n      />\n    );\n  };\n\n  const _renderWheel = () => {\n    if (props.source) {\n      return (\n        <Animated.Image\n          ref={containerRef}\n          onLayout={() => {\n            containerRef?.current?.measure(\n              (\n                _fx: number,\n                _fy: number,\n                _wheelWidth: number,\n                _wheelHeight: number,\n                pxSize: number,\n                pySize: number\n              ) => {\n                setPx(pxSize);\n                setPy(pySize);\n              }\n            );\n          }}\n          style={{\n            ...styles.wheel,\n            width: props.size,\n            height: props.size,\n            transform: [{ rotate: rotateInterpolated }],\n          }}\n          source={props.source}\n          {..._panResponder.panHandlers}\n        />\n      );\n    }\n\n    return (\n      <Animated.View\n        ref={containerRef}\n        onLayout={() => {\n          if (containerRef.current) {\n            containerRef.current.measure(\n              (\n                _fx: number,\n                _fy: number,\n                _wheelWidth: number,\n                _wheelHeight: number,\n                pxSize: number,\n                pySize: number\n              ) => {\n                setPx(pxSize);\n                setPy(pySize);\n              }\n            );\n          }\n        }}\n        style={{\n          ...styles.wheel,\n          transform: [\n            {\n              rotate: rotateInterpolated,\n            },\n          ],\n          backgroundColor: props.backgroundColor,\n          width: props.size,\n          height: props.size,\n          borderRadius: props.size / 2,\n        }}\n        {..._panResponder.panHandlers}\n      >\n        <AnimatedSvg\n          style={{\n            transform: [{ rotate: `-${SLICE_ANGLE_CENTER}deg` }],\n          }}\n        >\n          <G y={props.size / 2} x={props.size / 2}>\n            {SLICE_PAYLOAD.map((payload, i) => {\n              const [x, y] = payload.centroid;\n              return (\n                <G key={`arc-${i}`}>\n                  {_renderSlice(payload.path, payload.color)}\n                  {_renderText({ x, y, payload, i })}\n                  {_renderOuterDots(x, y, i)}\n                </G>\n              );\n            })}\n          </G>\n        </AnimatedSvg>\n        {_renderCircle()}\n      </Animated.View>\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      {_renderKnob()}\n      <View\n        style={{\n          transform: [\n            {\n              rotate: `${props.offset}deg`,\n            },\n          ],\n        }}\n      >\n        {_renderWheel()}\n      </View>\n    </View>\n  );\n});\n\nconst defaultProps: ILuckyWheelOptionalProps = {\n  duration: 4,\n  innerRadius: 30,\n  outerRadius: 13,\n  padAngle: 0.01,\n  backgroundColor: '#FFF',\n  size: width - 40,\n  textAngle: TextAngles.VERTICAL,\n  backgroundColorOptions: {\n    luminosity: 'dark',\n    hue: 'random',\n  },\n  knobSize: 30,\n  knobColor: '#FF0000',\n  textStyle: {},\n  easing: EasingTypes.OUT,\n  dotColor: '#000',\n  minimumSpinVelocity: 1,\n  enableGesture: false,\n  enableOuterDots: true,\n  enablePhysics: false,\n  gestureType: GestureTypes.CLOCKWISE,\n  offset: 0,\n  waitWinner: false,\n  enableInnerShadow: true,\n};\n\nLuckyWheel.defaultProps = defaultProps;\n\nconst styles = StyleSheet.create({\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 1,\n  },\n  wheel: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  circle: {\n    position: 'absolute',\n    backgroundColor: 'transparent',\n    borderColor: '#000',\n    borderWidth: 15,\n    opacity: 0.3,\n  },\n  knob: {\n    justifyContent: 'flex-end',\n    zIndex: 1,\n  },\n  text: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#FFF',\n  },\n});\n\nexport default LuckyWheel;\n"],"mappings":"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"}